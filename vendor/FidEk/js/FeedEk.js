!function(e){e.fn.FeedEk=function(t){var a=e.extend({MaxCount:5,ShowDesc:!0,ShowPubDate:!0,DescCharacterLimit:0,TitleLinkTarget:"_blank",DateFormat:"",DateFormatLang:"ru",Offset:0,ShowAuthor:!1,AuthorLabel:"Author:",Success:function(){},Error:function(){}},t),r=this,n=function(){r.empty(),r.append('<img src="loader.gif"> '),e.ajax({url:"https://feed.jquery-plugins.net/load?url="+a.FeedUrl+"&maxCount="+a.MaxCount+"&dateCulture="+a.DateFormatLang+"&dateFormat="+a.DateFormat+"&offset="+a.Offset,dataType:"json",success:function(e){r.empty(),null!=e.data&&(r.append(i(e.data)),a.Success(e.data))},error:function(e){a.Error(e)}})},i=function(t){var r="";return e.each(t,(function(t,n){r+='<li><div class="itemTitle"><a href="'+n.link+'" target="'+a.TitleLinkTarget+'" >'+n.title+"</a></div>",a.ShowPubDate&&(r+='<div class="itemDate">',e.trim(a.DateFormat).length>0?r+=n.publishDateFormatted:r+=new Date(n.publishDate).toLocaleDateString(),r+="</div>"),a.ShowDesc&&(r+='<div class="itemContent">'+o(n.description)+"</div>"),a.ShowAuthor&&(r+='<div class="itemAuthor">'+a.AuthorLabel+" "+n.author+"</div>"),r+="</li>"})),'<ul class="feedEkList">'+r+"</ul>"},o=function(e){return a.DescCharacterLimit>0&&e.length>a.DescCharacterLimit&&(e=e.substring(0,a.DescCharacterLimit)+"..."),e};null!=a.FeedUrl&&(e.isArray(a.FeedUrl)?a.FeedUrl=a.FeedUrl.map((e=>encodeURIComponent(e))).join(",,,"):a.FeedUrl=encodeURIComponent(a.FeedUrl),n())}}(jQuery);